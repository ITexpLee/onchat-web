<ion-content [fullscreen]="true" class="bg-white">
  <aside class="sidebar">
    <img *ngIf="onChatService.user" class="avatar" [src]="onChatService.user.avatarThumbnail"
      [routerLink]="['/card', onChatService.user.id]">

    <div class="button-group d-flex">
      <ion-button expand="block" fill="clear" routerDirection="root" [routerLink]="['/home/chat']"
        routerLinkActive="active">
        <ion-icon slot="icon-only" name="chatbubble-ellipses"></ion-icon>
        <ion-badge [ngClass]="{'visibility-hidden': onChatService.unreadMsgNum <= 0}" class="bg-danger" mode="ios">
          {{ onChatService.unreadMsgNum | numLimit }}
        </ion-badge>
      </ion-button>

      <ion-button expand="block" fill="clear" routerDirection="root" [routerLink]="['/home/contact']"
        routerLinkActive="active">
        <ion-icon slot="icon-only" name="people"></ion-icon>
        <ion-badge [ngClass]="{'visibility-hidden': onChatService.receiveFriendRequests.length <= 0}" class="bg-danger"
          mode="ios">
          {{ onChatService.receiveFriendRequests.length | numLimit }}
        </ion-badge>
      </ion-button>

      <ion-button expand="block" fill="clear" routerDirection="root" [routerLink]="['/home/profile']"
        routerLinkActive="active">
        <ion-icon slot="icon-only" name="person"></ion-icon>
      </ion-button>

      <div style="flex: auto;"></div>

      <ion-button expand="block" fill="clear" routerDirection="root" [routerLink]="['/home/settings']"
        routerLinkActive="active">
        <ion-icon slot="icon-only" name="settings-sharp"></ion-icon>
      </ion-button>
    </div>
  </aside>

  <ion-header class="d-flex align-items-center">
    <ion-toolbar>
      <span class="brand"></span>

      <ion-buttons slot="end">
        <ion-button (tap)="presentPopover($event)">
          <ion-icon slot="icon-only" name="menu"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <main>
    <ion-router-outlet></ion-router-outlet>
  </main>
</ion-content>