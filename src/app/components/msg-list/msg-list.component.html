<ul class="msg-list">
  <div *ngFor="let item of data; let index = index;">
    <li class="tip-item" *ngIf="index === 0 || canShowTime(item.createTime, data[index - 1].createTime)">
      <span>{{ item.createTime | detailDate }} {{ item.createTime | date:'hh:mm aaa' }}</span>
    </li>

    <li class="msg-item" [ngClass]="{ 'msg-item-right': userId == item.userId, 'msg-item-left': userId != item.userId }">
      <div>
        <img class="avatar" src="https://q.qlogo.cn/headimg_dl?dst_uin=1838491745&spec=5" [routerLink]="['/card', item.userId]">
      </div>
      <div>
        <div class="username">{{ item.nickname }}</div>
        <span class="msg-bubble ion-activatable ripple-parent">
          {{ item.content }}
          <ion-ripple-effect></ion-ripple-effect>
        </span>
      </div>
    </li>
  </div>
</ul>